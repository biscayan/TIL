# Chapter 1. 소개, 코드 포매팅과 도구
## 클린 코드의 의미
클린 코드에 대한 유일하고 엄격한 정의는 없다. 또한 공식적으로 클린 코드를 측정할 방법도 없을 것이다.  
클린 코드는 기계나 스크립트가 판단할 수 있는 것이 아니라 전문가가 판단할 수 있는 것이다.  
클린 코드인지 아닌지는 다른 엔지니어가 코드를 읽고 유지 관리할 수 있는지 여부에 달려 있다. 그러므로 전문가인 우리 자신이 클린 코드를 판단할 수 있는 유일한 사람이다.  
따라서 클린 코드가 무엇인지 정의하는 것보다는 파이썬의 주요개념을 이해한 다음 좋은 코드와 나쁜 코드의 차이점을 확인하고, 훌륭한 코드와 좋은 아키텍처의 특징을 식별하여 자신만의 정의를 하는 것이 좋다.  
## 클린 코드의 중요성
클린 코드가 중요한 이유는 다양하다. 대부분은 유지보수성 향상, 기술 부채의 감소, 애자일 개발을 통한 효과적인 작업 진행, 성공적인 프로젝트 관리로 이어진다는 것들이다.  
기술 부채는 나쁜 결정이나 적당한 타협의 결과로 생긴 소프트웨어적 결함을 말한다. 기술 부채는 두 가지로 생각해볼 수 있다.  
첫번째는 현재에서 과거의 방향으로 생각해보는 것이다. 현재 직면한 문제가 과거의 잘못된 코드 때문에 생긴 것이 아닐까 하는 생각이다.  
두번째는 현재에서 미래의 방향으로 생각해보는 것이다. 현재의 문제를 해결하기 위해 시간을 투자하지 않는다면 미래에 어떤 문제가 생기는 것이 아닐까 하는 생각이다.  
기술 부채가 발생했다는 것은 내일은 코드를 수정하기 더 어렵고 시간이 지날수록 더더욱 어려워진다는 것을 뜻한다.  
### 클린 코드에서 코드 포매팅의 역할
클린 코드는 PEP-8이나 코딩 스타일과 관련이 없다고 말할 수도 있다.  
클린 코드는 품질 좋은 소프트웨어를 개발하고, 견고하고 우지보수가 쉬운 시스템을 만들고, 기술 부채를 회피하는 것을 말한다.  
그러나 코드를 올바르게 포매팅 하는 것은 작업을 효율화하기 위해 중요할 수도 있다.  
## Docstring과 어노테이션
### Docstring
쉽게 말해서 docstring은 소스 코드에 포한된 문서라고 말할 수 있다. docstring은 기본적으로 리터럴 문자열이며, 로직의 일부분을 문서화하기 위해 코드 어딘가에 배치된다.  
docstring은 코멘트가 아니라 문서이다. 주석을 다는 것이 아니라 코드의 특정 컴포넌트(모듈, 클래스, 메소드 또는 함수)에 대한 문서화이다.  
docstring은 코드에서 분리되거나 독립된 것이 아니다. 코드의 일부가 되어 접근할 수 있어야 한다. 객체에 docstring이 정의되어 있으면 ```__doc__``` 속성을 통해 접근이 가능하다.  
docstring에도 단점이 있는데, 지속적으로 수작업을 해야 한다는 것이다. 코드가 변경되면 업데이트를 해야 한다. 또한 docstring이 정말 유용하게 사용되려면 여러 줄에 걸쳐 상세하게 작성해야 한다.  
## 어노테이션
어노테이션은 코드 사용자에게 함수 인자로 어떤 값이 와야 하는지 힌트를 주는 것이다.  
어노테이션을 사용해 변수의 예상 타입을 지정할 수 있다. 실제로는 타입 뿐 아니라 변수를 이해하는데 도움이 되는 어떤 형태의 메타데이터라도 지정할 수 있다.  
```python
class Point:
    def __init__(self, lat, long):
        self.lat = lat
        self.long = long

def locate(latitude: float, longitude: float) -> Point:
```
이처럼 어노테이션을 이용하여 latitude는 float, longitude도 float 타입이 되어야 함을 알 수 있다.  
어노테이션을 사용하면 ```__annotations__```라는 특수한 속성이 생긴다. 이 속성은 어노테이션의 이름과 값을 매핑한 사전 타입이며 다음과 같이 출력된다.  
```
>>> print(locate.__annotations__)
{'latitude': <class 'float'>, 'longitude': <class 'float'>, 'return': <class '__main__.Point'>}
```
이처럼 타입 힌팅은 인터프리터와 독립된 추가 도구를 사용하여 코드 전체에 올바른 타입이 사용되었는지 확인하고 호환되지 않는 타입이 발견되었을 때 사용자에게 힌트를 주는 것이다.  
파이썬 3.6부터는 함수 파라미터와 리턴 타입뿐만 아니라 변수에 직접 주석을 달 수 있다.  
```python
class Point:  
    lat: float
    long: float
```
### 기본 품질 향상을 위한 도구 설정
코드 포매팅, 일관된 레이아웃, 적절한 들여쓰기를 검사하는 것은 당연한 것이므로 이런 것들을 살펴보는데 시간을 사용하는 것은 매우 낭비스러운 짓이다. 따라서 이런 것에 대한 검사들은 자동화되어야 한다.  
테스트 또는 체크리스트의 일부가 되어 지속적인 통합 빌드의 하나가 되어야 한다. 이런 검사에 길패하면 빌드도 실패해야 한다.  
#### Mypy를 사용한 타입 힌팅
 mypy는 파이썬에서 가장 일반적으로 사용하는 정적 타입 검사 도구이다. mypy를 설치하면 프로젝트의 모든 파일을 분석하여 타입 불일치를 검사해준다.  
 $ pip install mymy 로 설치할 수 있으며 mypy {파일명}을 입력하면 타입 검사 결과를 제공한다.
#### Pylint를 사용한 코드 검사
Pylint는 코드 검사 도구 중에서 가장 완결성이 높고 엄격하며 설정 가능한 옵션이 많다.  
$ pip install pylint로 설치가 가능하며 .pylintrc 파일을 통해 설정 값을 바꿀 수 있다.  